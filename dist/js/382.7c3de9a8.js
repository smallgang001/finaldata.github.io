"use strict";(self["webpackChunkfinaldatas"]=self["webpackChunkfinaldatas"]||[]).push([[382],{3286:function(t,a,s){s.r(a),s.d(a,{default:function(){return O}});var e=s(3396),n=s(7139);const l=t=>((0,e.dD)("data-v-60616a8d"),t=t(),(0,e.Cn)(),t),o={class:"whites"},i={class:"aaas"},d={class:"table"},r=l((()=>(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",{class:"th1"},"報修編號"),(0,e._)("th",null,"報修日期"),(0,e._)("th",null,"報修電話"),(0,e._)("th",null,"報修email"),(0,e._)("th",null,"報修進度"),(0,e._)("th",null,"報修留言"),(0,e._)("th",null,"編輯")])],-1))),u={class:"abs"},c=["onClick"],h=["onClick"],p={class:"s"};function m(t,a,s,l,m,_){const g=(0,e.up)("LoadIng"),b=(0,e.up)("TanTuo"),w=(0,e.up)("FanYa");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(g,{active:m.Load},null,8,["active"]),(0,e._)("div",o,[(0,e._)("div",i,[(0,e.Wm)(b,{ref:"a",onGetda:_.xxgg},null,8,["onGetda"])]),(0,e._)("table",d,[r,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(m.newproducts,(t=>((0,e.wg)(),(0,e.iD)("tr",{key:t.id},[(0,e._)("th",null,(0,n.zw)(t.id),1),(0,e._)("td",null,(0,n.zw)(t.user.ordertime),1),(0,e._)("td",null,(0,n.zw)(t.user.nphone),1),(0,e._)("td",null,(0,n.zw)(t.user.nemail),1),(0,e._)("td",null,(0,n.zw)(t.user.ordergindo),1),(0,e._)("td",u,(0,n.zw)(t.user.nmessage),1),(0,e._)("button",{onClick:a=>_.benge(t),class:"btn btn-secondary bbb",type:"button"}," 編輯 ",8,c),(0,e._)("button",{onClick:a=>_.del(t),class:"btn btn-danger bbb",type:"button"}," 刪除 ",8,h)])))),128))])]),(0,e._)("div",p,[(0,e.Wm)(w,{ppp:m.page,newpage:m.onpage,oldpage:m.unpage,onAa:_.aSSS,onAs:_.aSSS,onAc:_.aSSS},null,8,["ppp","newpage","oldpage","onAa","onAs","onAc"])])])],64)}var _=s(9242);const g=t=>((0,e.dD)("data-v-986a1b8e"),t=t(),(0,e.Cn)(),t),b={class:"max modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"aa"},w={class:"maxss modal-dialog"},v={class:"maxs modal-content"},x=g((()=>(0,e._)("div",{class:"modal-header"},[(0,e._)("h5",{class:"modal-title",id:"exampleModalLabel"},"報修訂單"),(0,e._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),f={class:"modal-body"},y={class:"left"},S={class:"naone"},$={class:"na"},k=g((()=>(0,e._)("p",null,"報修人電話:",-1))),z={class:"na"},C=g((()=>(0,e._)("p",null,"Email:",-1))),L={class:"na"},A=g((()=>(0,e._)("p",null,"進度",-1))),D={class:"natwo"},T={class:"na"},U=g((()=>(0,e._)("p",null,"問題敘述",-1))),E={class:"na"},M=g((()=>(0,e._)("p",null,"購買日期(數字填寫)",-1))),Y={class:"na"},I=g((()=>(0,e._)("p",null,"保固日期日(數字填寫)",-1))),V={class:"modal-footer"},W=g((()=>(0,e._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1)));function Z(t,a,s,l,o,i){return(0,e.wg)(),(0,e.iD)("div",b,[(0,e._)("div",w,[(0,e._)("div",v,[x,(0,e._)("div",f,[(0,e._)("div",y,[(0,e._)("div",S,[(0,e._)("div",$,[k,(0,e.wy)((0,e._)("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>o.ts.nphone=t),class:"form-control form-control-lg",type:"text"},null,512),[[_.nr,o.ts.nphone]])]),(0,e._)("div",z,[C,(0,e.wy)((0,e._)("input",{"onUpdate:modelValue":a[1]||(a[1]=t=>o.ts.nemail=t),class:"form-control form-control-lg",type:"number"},null,512),[[_.nr,o.ts.nemail]])]),(0,e._)("div",L,[A,(0,e.wy)((0,e._)("input",{"onUpdate:modelValue":a[2]||(a[2]=t=>o.ts.ordergindo=t),class:"form-control form-control-lg",type:"text"},null,512),[[_.nr,o.ts.ordergindo]])])]),(0,e._)("div",D,[(0,e._)("div",T,[U,(0,e._)("p",null,(0,n.zw)(o.ts.nmessage),1)]),(0,e._)("div",E,[M,(0,e.Uk)(" "+(0,n.zw)(o.ts.buydata),1)]),(0,e._)("div",Y,[I,(0,e.Uk)(" "+(0,n.zw)(o.ts.ndata)+" "+(0,n.zw)(),1)])])])]),(0,e._)("div",V,[W,(0,e._)("button",{onClick:a[3]||(a[3]=(...t)=>i.newshop&&i.newshop(...t)),type:"button",class:"btn btn-primary"}," 修改訂單 ")])])])],512)}var j=s(7972),F=s.n(j),G={data(){return{aa:{},tt:{create_at:0,id:"",is_paid:!0,message:"",num:1,paid_date:1661803447,products:{},total:"",user:{tel:0}},ts:{},loading:!1}},inject:["EmiTter"],created(){},methods:{as(){this.aa.show()},ad(){this.aa.hide()},newshop(){this.aa.hide();const t=`https://vue3-course-api.hexschool.io/api/smallgun/admin/order/${this.tt.id}`;this.$http.put(t,{data:this.tt}).then((t=>{this.tt={},this.ts={},this.$emit("getda"),t.data.success?this.EmiTter.emit("mess",{style:"rgb(6, 173, 202)",title:"更新成功",content:"已成功更新商品"}):t.data.success||this.EmiTter.emit("mess",{style:"rgb(228, 15, 210)",title:"更新失敗",content:t.data.message.join("、")})})),this.aa.hide()}},mounted(){this.aa=new(F())(this.$refs.aa)}},H=s(89);const K=(0,H.Z)(G,[["render",Z],["__scopeId","data-v-986a1b8e"]]);var q=K,B=s(6209),J={props:["pa"],data(){return{page:"",newpage:[],products:[],newproducts:[],pages:[],bb:{},xxx:"",Load:!1,onpage:"",unpage:"",url:""}},components:{TanTuo:q,FanYa:B.Z},created(){this.url=this.$route.path;const t=document.cookie.replace(/(?:(?:^|.*;\s*)hihi\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common["Authorization"]=t;const a="https://vue3-course-api.hexschool.io/api/user/check";this.$http.post(a).then((t=>{t.data.success||this.$router.push("/DunLoo")})),this.aSSS()},methods:{aSSS(t=1){this.Load=!0;const a=`https://vue3-course-api.hexschool.io/api/smallgun/admin/orders?path=${t}`;this.axios.get(a).then((a=>{this.Load=!1,a.data.success&&(this.pages=a.data.orders,this.products=this.pages.filter((t=>""!=t.user.ordergindo)),this.newpage=Math.ceil(this.products.length/5),this.page=this.newpage,this.unpage=t,this.onpage=t,this.newproducts=this.products.slice(5*(t-1),5*t),this.xxx=t)}))},benge(t){this.$refs.a.as(),this.$refs.a.tt=t,this.$refs.a.ts=t.user},xxgg(){this.aSSS(this.xxx)},del(t){this.$refs.a.tt=t;const a=`https://vue3-course-api.hexschool.io/api/smallgun/admin/order/${this.$refs.a.tt.id}`;this.$http.delete(a,{data:this.tt}).then((t=>{})),this.aSSS(),this.xxgg()}}};const N=(0,H.Z)(J,[["render",m],["__scopeId","data-v-60616a8d"]]);var O=N}}]);
//# sourceMappingURL=382.7c3de9a8.js.map