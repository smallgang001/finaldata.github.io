"use strict";(self["webpackChunkfinaldatas"]=self["webpackChunkfinaldatas"]||[]).push([[571],{2311:function(t,s,a){a.d(s,{Z:function(){return D}});var e=a(3396),c=a(7139),l=a(9242),i=a.p+"img/x.4182fe3f.svg";const o=t=>((0,e.dD)("data-v-305629da"),t=t(),(0,e.Cn)(),t),r={class:"sdata"},d=o((()=>(0,e._)("div",{class:"datah1"},[(0,e._)("h1",null,"訂單資訊")],-1))),n={class:"datacontant"},p=o((()=>(0,e._)("thead",null,[(0,e._)("th",{class:"th1"},"產品圖片"),(0,e._)("th",{class:"th2"},"產品名稱"),(0,e._)("th",{class:"th3"},"數量"),(0,e._)("th",{class:"th4"},"金額")],-1))),u={class:"td1"},h=["src"],g=["onClick"],_={class:"td2"},v={class:"td3"},y={class:"num"},m=["onClick","disabled"],f=["onInput","onUpdate:modelValue"],b=["onClick","disabled"],q={class:"td4"},w={class:"dataallmoney"};function k(t,s,a,o,k,x){const S=(0,e.up)("LoadIng");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(S,{active:k.Load},null,8,["active"]),(0,e._)("div",r,[d,(0,e._)("div",n,[(0,e._)("table",null,[p,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(k.getcarts,(t=>((0,e.wg)(),(0,e.iD)("tr",{key:t.id},[(0,e._)("td",u,[(0,e._)("img",{class:"img1",src:t.product.ims,alt:""},null,8,h),(0,e._)("img",{onClick:s=>x.delcart(t),class:"img2",src:i,alt:""},null,8,g)]),(0,e._)("td",_,[(0,e._)("p",null,(0,c.zw)(t.product.title),1)]),(0,e._)("td",v,[(0,e._)("div",y,[(0,e._)("button",{onClick:s=>x.reduce(t),type:"button",disabled:1==t.qty}," - ",8,m),(0,e.wy)((0,e._)("input",{onInput:s=>x.textnum(t),class:"nums",type:"number","onUpdate:modelValue":s=>t.qty=s,onkeyup:"value=value.replace(/^(0+)|[^\\d]+/g,'')"},null,40,f),[[l.nr,t.qty]]),(0,e._)("button",{onClick:s=>x.Increase(t),type:"button",disabled:t.qty==t.product.unit}," + ",8,b)])]),(0,e._)("td",q,[(0,e._)("p",null,"$"+(0,c.zw)(t.product.price),1)])])))),128))])])]),(0,e._)("div",w,[(0,e._)("p",null,"總計$ "+(0,c.zw)(k.alltatle),1)])])],64)}var x={data(){return{getcarts:[],alltatl:0,alltatle:0,Load:!1,aas:{},onnum:0,sss:[]}},mounted(){this.getcart()},methods:{getcart(){const t="https://vue3-course-api.hexschool.io/api/smallgun/cart";this.axios.get(t).then((t=>{if(t.data.success){this.getcarts=t.data.data.carts,t.data.data.carts=this.getcarts;for(let t=0;t<this.getcarts.length;t++)this.getcarts[t].qty>this.getcarts[t].product.unit&&(this.getcarts[t].qty=Number(this.getcarts[t].product.unit)),this.getcarts[t].final_total=this.getcarts[t].qty*this.getcarts[t].product.price,this.alltatle+=this.getcarts[t].final_total}}))},textnum(t){t.qty>t.product.unit&&(t.qty=Number(t.product.unit)),this.alltatle=0;for(let s=0;s<this.getcarts.length;s++)this.alltatle+=this.getcarts[s].qty*this.getcarts[s].product.price},Increase(t){t.qty+=1,this.$emit("qty",t.qty),t.qty>t.product.unit&&(t.qty=Number(t.product.unit)),this.alltatle=0;for(let a=0;a<this.getcarts.length;a++)this.alltatle+=this.getcarts[a].qty*this.getcarts[a].product.price;const s=`https://vue3-course-api.hexschool.io/api/smallgun/cart/${t.id}`;this.axios.put(s,{data:{product_id:t.id,qty:t.qty}}).then((t=>{t.data.success}))},reduce(t){t.qty-=1,t.qty>t.product.unit&&(t.qty=Number(t.product.unit)),this.alltatle=0;for(let a=0;a<this.getcarts.length;a++)this.alltatle+=this.getcarts[a].qty*this.getcarts[a].product.price;const s=`https://vue3-course-api.hexschool.io/api/smallgun/cart/${t.id}`;this.axios.put(s,{data:{product_id:t.id,qty:t.qty}}).then((t=>{t.data.success}))},delcart(t){this.Load=!0;const s=`https://vue3-course-api.hexschool.io/api/smallgun/cart/${t.id}`;this.axios.delete(s).then((t=>{this.Load=!1,t.data.success&&(this.alltatle=0,this.getcart())}))}}},S=a(89);const $=(0,S.Z)(x,[["render",k],["__scopeId","data-v-305629da"]]);var D=$},4486:function(t,s,a){a.d(s,{Z:function(){return V}});var e=a(3396),c=a.p+"img/process1.447e8798.svg",l=a.p+"img/checklist.7d7bcd57.png",i=a.p+"img/clipboard.c5c1b0cf.png",o=a.p+"img/aa.7f44a45c.png";const r=t=>((0,e.dD)("data-v-01d499f2"),t=t(),(0,e.Cn)(),t),d={class:"shopprocess"},n={class:"processtop"},p={class:"process"},u={class:"process1"},h=r((()=>(0,e._)("div",{class:"radiosimg"},[(0,e._)("img",{src:c,alt:""})],-1))),g={key:0,style:{color:"#239021"}},_={key:1,style:{color:"#fff"}},v={class:"process1"},y=r((()=>(0,e._)("div",{class:"radiosimg"},[(0,e._)("img",{src:l,alt:""})],-1))),m={key:0,style:{color:"#239021"}},f={key:1,style:{color:"#fff"}},b={class:"process1"},q=r((()=>(0,e._)("div",{class:"radiosimg"},[(0,e._)("img",{src:i,alt:""})],-1))),w={key:0,style:{color:"#239021"}},k={key:1,style:{color:"#fff"}},x={class:"process1"},S=r((()=>(0,e._)("div",{class:"radiosimg"},[(0,e._)("img",{src:o,alt:""})],-1))),$={key:0,style:{color:"#239021"}},D={key:1,style:{color:"#fff"}};function C(t,s,a,c,l,i){return(0,e.wg)(),(0,e.iD)("div",d,[(0,e._)("div",n,[(0,e._)("div",p,[(0,e._)("div",u,[h,"/ShopCart"==this.$route.path?((0,e.wg)(),(0,e.iD)("p",g," step 1. 確認訂單 ")):((0,e.wg)(),(0,e.iD)("p",_,"step 1. 確認訂單"))]),(0,e._)("div",v,[y,"/ShopView/ShopStep2"==this.$route.path?((0,e.wg)(),(0,e.iD)("p",m," step 2. 建立訂單 ")):((0,e.wg)(),(0,e.iD)("p",f,"step 2. 建立訂單"))]),(0,e._)("div",b,[q,this.$route.path==`/ShopView/ShopStep3/${l.url}`?((0,e.wg)(),(0,e.iD)("p",w," step 3. 付款 ")):((0,e.wg)(),(0,e.iD)("p",k,"step 3. 付款"))]),(0,e._)("div",x,[S,this.$route.path==`/ShopView/ShopStep4/${l.url}`?((0,e.wg)(),(0,e.iD)("p",$," step 4. 完成訂單 ")):((0,e.wg)(),(0,e.iD)("p",D,"step 4. 完成訂單"))])])])])}var L={data(){return{url:""}},created(){this.url=this.$route.params.orderId}},I=a(89);const Z=(0,I.Z)(L,[["render",C],["__scopeId","data-v-01d499f2"]]);var V=Z},5299:function(t,s,a){a.r(s),a.d(s,{default:function(){return x}});var e=a(3396),c=a(5742);const l=t=>((0,e.dD)("data-v-88f96638"),t=t(),(0,e.Cn)(),t),i={class:"shop"},o={class:"shoptop"},r={class:"shopunder"},d={class:"shopunbtn"},n={class:"mar"},p=l((()=>(0,e._)("div",{class:"btnleft"},[(0,e._)("button",{type:"button"},[(0,e._)("img",{src:c,alt:""}),(0,e._)("p",null,"回上一頁")])],-1))),u={class:"btnright"},h=l((()=>(0,e._)("p",null,"刪除全部訂單",-1))),g=[h],_=["disabled"],v=l((()=>(0,e._)("p",null,"填寫訂單",-1))),y=[v];function m(t,s,a,c,l,h){const v=(0,e.up)("LoadIng"),m=(0,e.up)("Shopone"),f=(0,e.up)("Shopdata");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(v,{active:l.Load},null,8,["active"]),(0,e._)("div",i,[(0,e._)("div",o,[(0,e.Wm)(m)]),(0,e._)("div",r,[(0,e.Wm)(f,{ref:"cart"},null,512)]),(0,e._)("div",d,[(0,e._)("div",n,[p,(0,e._)("div",u,[(0,e._)("button",{onClick:s[0]||(s[0]=(...t)=>h.delcarts&&h.delcarts(...t)),class:"b1 shape-ex2",type:"button"},g),(0,e._)("button",{onQty:s[1]||(s[1]=(...t)=>h.step2&&h.step2(...t)),onClick:s[2]||(s[2]=(...t)=>h.step2&&h.step2(...t)),class:"b2 shape-ex3",type:"button",disabled:l.presets},y,40,_)])])])])],64)}var f=a(4486),b=a(2311),q={data(){return{Load:!1,presets:!1,newshopnum:[]}},components:{Shopone:f.Z,Shopdata:b.Z},created(){},methods:{surebuy(){this.$router.push("")},delcarts(){this.Load=!0;const t="https://vue3-course-api.hexschool.io/api/smallgun/carts";this.axios.delete(t).then((t=>{this.Load=!1,t.data.success&&(this.$refs.cart.getcart(),this.$refs.cart.alltatle=0)}))},step2(){this.Load=!0;const t="https://vue3-course-api.hexschool.io/api/smallgun/cart";this.axios.get(t).then((t=>{this.Load=!1,t.data.success&&(""==t.data.data.carts?this.presets=!0:this.$router.push("/ShopView/ShopStep2"))}))}}},w=a(89);const k=(0,w.Z)(q,[["render",m],["__scopeId","data-v-88f96638"]]);var x=k},5742:function(t,s,a){t.exports=a.p+"img/chevron-left.55bda5dc.svg"}}]);
//# sourceMappingURL=571.06024ddb.js.map