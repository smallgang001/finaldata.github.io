"use strict";(self["webpackChunkfinaldatas"]=self["webpackChunkfinaldatas"]||[]).push([[750],{72:function(t,s,a){a.d(s,{Z:function(){return q}});var e=a(3396),l=a(7139);const i=t=>((0,e.dD)("data-v-1f6cb886"),t=t(),(0,e.Cn)(),t),r={class:"personals"},c={class:"names"},o={class:"phone"},d={class:"email"},n={class:"pay"},u={class:"address"},p={class:"address"},h={key:0,class:"buy"},g=i((()=>(0,e._)("p",null,[(0,e.Uk)(" 付款狀態: "),(0,e._)("span",{style:{color:"#ff0000"}},"未付款")],-1))),_=[g],m={key:1,class:"buy"},v=i((()=>(0,e._)("p",null,[(0,e.Uk)(" 付款狀態: "),(0,e._)("span",null,"已付款")],-1))),y=[v];function f(t,s,a,i,g,v){return(0,e.wg)(),(0,e.iD)("div",r,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(g.user,(t=>((0,e.wg)(),(0,e.iD)("div",{class:"personal",key:t.id},[(0,e._)("div",c,[(0,e._)("p",null,"收件人:"+(0,l.zw)(t.user.name),1)]),(0,e._)("div",o,[(0,e._)("p",null,"聯絡電話:"+(0,l.zw)(t.user.tel),1)]),(0,e._)("div",d,[(0,e._)("p",null,"E-mail:"+(0,l.zw)(t.user.email),1)]),(0,e._)("div",n,[(0,e._)("p",null,"付款方式:"+(0,l.zw)(t.user.payway),1)]),(0,e._)("div",u,[(0,e._)("p",null,"地址:"+(0,l.zw)(t.user.address),1)]),(0,e._)("div",p,[(0,e._)("p",null,"訂單編號:"+(0,l.zw)(t.id),1)]),0==t.is_paid?((0,e.wg)(),(0,e.iD)("div",h,_)):((0,e.wg)(),(0,e.iD)("div",m,y))])))),128))])}var b={data(){return{user:[],use:{},orderId:""}},created(){this.orderId=this.$route.params.orderId,this.gg()},methods:{gg(){const t=`https://vue3-course-api.hexschool.io/api/smallgun/order/${this.orderId}`;this.axios.get(t).then((t=>{t.data.success&&this.user.push(t.data.order)}))}}},w=a(89);const k=(0,w.Z)(b,[["render",f],["__scopeId","data-v-1f6cb886"]]);var q=k},4826:function(t,s,a){a.d(s,{Z:function(){return $}});var e=a(3396),l=a(7139),i=a(9242),r=a.p+"img/x.4182fe3f.svg";const c=t=>((0,e.dD)("data-v-12ddcfa5"),t=t(),(0,e.Cn)(),t),o={class:"sdata"},d=c((()=>(0,e._)("div",{class:"datah1"},[(0,e._)("h1",null,"訂單資訊")],-1))),n={class:"datacontant"},u=c((()=>(0,e._)("thead",null,[(0,e._)("th",{class:"th1"},"產品圖片"),(0,e._)("th",{class:"th2"},"產品名稱"),(0,e._)("th",{class:"th3"},"數量"),(0,e._)("th",{class:"th4"},"金額")],-1))),p={class:"td1"},h=["src"],g=["onClick"],_={class:"td2"},m={class:"td3"},v={class:"num"},y=["onClick","disabled"],f=["onInput","onUpdate:modelValue"],b=["onClick","disabled"],w={class:"td4"},k={class:"dataallmoney"};function q(t,s,a,c,q,D){const S=(0,e.up)("LoadIng");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(S,{active:q.Load},null,8,["active"]),(0,e._)("div",o,[d,(0,e._)("div",n,[(0,e._)("table",null,[u,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(q.getcarts,(t=>((0,e.wg)(),(0,e.iD)("tr",{key:t.id},[(0,e._)("td",p,[(0,e._)("img",{class:"img1",src:t.product.ims,alt:""},null,8,h),(0,e._)("img",{onClick:s=>D.delcart(t),class:"img2",src:r,alt:""},null,8,g)]),(0,e._)("td",_,[(0,e._)("p",null,(0,l.zw)(t.product.title),1)]),(0,e._)("td",m,[(0,e._)("div",v,[(0,e._)("button",{onClick:s=>D.reduce(t),type:"button",disabled:1==t.qty}," - ",8,y),(0,e.wy)((0,e._)("input",{onInput:s=>D.textnum(t),class:"nums",type:"number","onUpdate:modelValue":s=>t.qty=s,onkeyup:"value=value.replace(/^(0+)|[^\\d]+/g,'')"},null,40,f),[[i.nr,t.qty]]),(0,e._)("button",{onClick:s=>D.Increase(t),type:"button",disabled:t.qty==t.product.unit}," + ",8,b)])]),(0,e._)("td",w,[(0,e._)("p",null,"$"+(0,l.zw)(t.product.price),1)])])))),128))])])]),(0,e._)("div",k,[(0,e._)("p",null,"總計$ "+(0,l.zw)(q.alltatle),1)])])],64)}var D={data(){return{getcarts:[],alltatl:0,alltatle:0,Load:!1,aas:{},onnum:0,sss:[]}},mounted(){this.getcart()},methods:{getcart(){const t="https://vue3-course-api.hexschool.io/api/smallgun/cart";this.axios.get(t).then((t=>{if(t.data.success){this.getcarts=t.data.data.carts,t.data.data.carts=this.getcarts;for(let t=0;t<this.getcarts.length;t++)this.getcarts[t].qty>this.getcarts[t].product.unit&&(this.getcarts[t].qty=Number(this.getcarts[t].product.unit)),this.getcarts[t].final_total=this.getcarts[t].qty*this.getcarts[t].product.price,this.alltatle+=this.getcarts[t].final_total}}))},textnum(t){t.qty>t.product.unit&&(t.qty=Number(t.product.unit)),this.alltatle=0;for(let s=0;s<this.getcarts.length;s++)this.alltatle+=this.getcarts[s].qty*this.getcarts[s].product.price},Increase(t){t.qty+=1,this.$emit("qty",t.qty),t.qty>t.product.unit&&(t.qty=Number(t.product.unit)),this.alltatle=0;for(let a=0;a<this.getcarts.length;a++)this.alltatle+=this.getcarts[a].qty*this.getcarts[a].product.price;const s=`https://vue3-course-api.hexschool.io/api/smallgun/cart/${t.id}`;this.axios.put(s,{data:{product_id:t.id,qty:t.qty}}).then((t=>{t.data.success}))},reduce(t){t.qty-=1,t.qty>t.product.unit&&(t.qty=Number(t.product.unit)),this.alltatle=0;for(let a=0;a<this.getcarts.length;a++)this.alltatle+=this.getcarts[a].qty*this.getcarts[a].product.price;const s=`https://vue3-course-api.hexschool.io/api/smallgun/cart/${t.id}`;this.axios.put(s,{data:{product_id:t.id,qty:t.qty}}).then((t=>{t.data.success}))},delcart(t){this.Load=!0;const s=`https://vue3-course-api.hexschool.io/api/smallgun/cart/${t.id}`;this.axios.delete(s).then((t=>{this.Load=!1,t.data.success&&(this.alltatle=0,this.getcart())}))}}},S=a(89);const x=(0,S.Z)(D,[["render",q],["__scopeId","data-v-12ddcfa5"]]);var $=x},4486:function(t,s,a){a.d(s,{Z:function(){return V}});var e=a(3396),l=a.p+"img/process1.447e8798.svg",i=a.p+"img/checklist.7d7bcd57.png",r=a.p+"img/clipboard.c5c1b0cf.png",c=a.p+"img/aa.7f44a45c.png";const o=t=>((0,e.dD)("data-v-01d499f2"),t=t(),(0,e.Cn)(),t),d={class:"shopprocess"},n={class:"processtop"},u={class:"process"},p={class:"process1"},h=o((()=>(0,e._)("div",{class:"radiosimg"},[(0,e._)("img",{src:l,alt:""})],-1))),g={key:0,style:{color:"#239021"}},_={key:1,style:{color:"#fff"}},m={class:"process1"},v=o((()=>(0,e._)("div",{class:"radiosimg"},[(0,e._)("img",{src:i,alt:""})],-1))),y={key:0,style:{color:"#239021"}},f={key:1,style:{color:"#fff"}},b={class:"process1"},w=o((()=>(0,e._)("div",{class:"radiosimg"},[(0,e._)("img",{src:r,alt:""})],-1))),k={key:0,style:{color:"#239021"}},q={key:1,style:{color:"#fff"}},D={class:"process1"},S=o((()=>(0,e._)("div",{class:"radiosimg"},[(0,e._)("img",{src:c,alt:""})],-1))),x={key:0,style:{color:"#239021"}},$={key:1,style:{color:"#fff"}};function C(t,s,a,l,i,r){return(0,e.wg)(),(0,e.iD)("div",d,[(0,e._)("div",n,[(0,e._)("div",u,[(0,e._)("div",p,[h,"/ShopCart"==this.$route.path?((0,e.wg)(),(0,e.iD)("p",g," step 1. 確認訂單 ")):((0,e.wg)(),(0,e.iD)("p",_,"step 1. 確認訂單"))]),(0,e._)("div",m,[v,"/ShopView/ShopStep2"==this.$route.path?((0,e.wg)(),(0,e.iD)("p",y," step 2. 建立訂單 ")):((0,e.wg)(),(0,e.iD)("p",f,"step 2. 建立訂單"))]),(0,e._)("div",b,[w,this.$route.path==`/ShopView/ShopStep3/${i.url}`?((0,e.wg)(),(0,e.iD)("p",k," step 3. 付款 ")):((0,e.wg)(),(0,e.iD)("p",q,"step 3. 付款"))]),(0,e._)("div",D,[S,this.$route.path==`/ShopView/ShopStep4/${i.url}`?((0,e.wg)(),(0,e.iD)("p",x," step 4. 完成訂單 ")):((0,e.wg)(),(0,e.iD)("p",$,"step 4. 完成訂單"))])])])])}var I={data(){return{url:""}},created(){this.url=this.$route.params.orderId}},Z=a(89);const z=(0,Z.Z)(I,[["render",C],["__scopeId","data-v-01d499f2"]]);var V=z},2233:function(t,s,a){a.r(s),a.d(s,{default:function(){return x}});var e=a(3396),l=a(5742);const i=t=>((0,e.dD)("data-v-e948e2be"),t=t(),(0,e.Cn)(),t),r={class:"shopbody"},c={class:"shoptop"},o={class:"shopunder"},d={class:"undertop"},n=i((()=>(0,e._)("h1",null,"確認訂單",-1))),u={class:"underbtn"},p=i((()=>(0,e._)("h1",null,"訂購人資料:",-1))),h=i((()=>(0,e._)("div",{class:"line"},null,-1))),g={class:"gobuy"},_=i((()=>(0,e._)("div",{class:"btnleft"},[(0,e._)("button",{type:"button"},[(0,e._)("img",{src:l,alt:""}),(0,e._)("p",null,"回上一頁")])],-1))),m={class:"btnright"},v=i((()=>(0,e._)("p",null,"建立訂單",-1))),y=[v];function f(t,s,a,l,i,v){const f=(0,e.up)("Shopone"),b=(0,e.up)("Shopdata"),w=(0,e.up)("PersonalData"),k=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)("div",r,[(0,e._)("div",c,[(0,e.Wm)(f)]),(0,e._)("div",o,[(0,e._)("div",d,[n,(0,e.Wm)(b)]),(0,e._)("div",u,[p,h,(0,e.Wm)(w),(0,e._)("div",g,[_,(0,e._)("div",m,[(0,e.Wm)(k,{to:"/ShopView/ShopStep3"},{default:(0,e.w5)((()=>[(0,e._)("button",{onClick:s[0]||(s[0]=(...t)=>v.buysure&&v.buysure(...t)),class:"b2",type:"button"},y)])),_:1})])])])])])}var b=a(4486),w=a(4826),k=a(72),q={data(){return{user:{},manu:""}},components:{Shopone:b.Z,Shopdata:w.Z,PersonalData:k.Z},inject:["EmiTter"],mounted(){},methods:{buysure(){const t="https://vue3-course-api.hexschool.io/api/smallgun/order";this.axios.post(t,{data:{user:{name:this.user.user,email:this.user.email,tel:this.user.phone,address:this.user.address},message:this.user.message}}).then((t=>{t.data.success&&(this.manu=t,this.EmiTter.emit("aa",this.manu))}))}}},D=a(89);const S=(0,D.Z)(q,[["render",f],["__scopeId","data-v-e948e2be"]]);var x=S},5742:function(t,s,a){t.exports=a.p+"img/chevron-left.55bda5dc.svg"}}]);
//# sourceMappingURL=750.2662d850.js.map