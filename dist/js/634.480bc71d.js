"use strict";(self["webpackChunkfinaldatas"]=self["webpackChunkfinaldatas"]||[]).push([[634],{5071:function(t,a,s){s.r(a),s.d(a,{default:function(){return N}});var e=s(3396),l=s(7139);const n=t=>((0,e.dD)("data-v-512fc0da"),t=t(),(0,e.Cn)(),t),o={class:"whites"},i={class:"aaas"},d={class:"table"},c=n((()=>(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",{class:"th1"},"訂單編號"),(0,e._)("th",null,"使用者名稱"),(0,e._)("th",null,"電話"),(0,e._)("th",null,"email"),(0,e._)("th",null,"地址"),(0,e._)("th",null,"編輯")])],-1))),u=["onClick"],r=["onClick"],h={class:"s"};function p(t,a,s,n,p,m){const _=(0,e.up)("LoadIng"),g=(0,e.up)("TanTuo"),b=(0,e.up)("FanYa");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(_,{active:p.Load},null,8,["active"]),(0,e._)("div",o,[(0,e._)("div",i,[(0,e.Wm)(g,{ref:"a",onGetda:m.xxgg},null,8,["onGetda"])]),(0,e._)("table",d,[c,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(p.newproducts,(t=>((0,e.wg)(),(0,e.iD)("tr",{key:t.id},[(0,e._)("th",null,(0,l.zw)(t.id),1),(0,e._)("td",null,(0,l.zw)(t.user.name),1),(0,e._)("td",null,(0,l.zw)(t.user.tel),1),(0,e._)("td",null,(0,l.zw)(t.user.email),1),(0,e._)("td",null,(0,l.zw)(t.user.address),1),(0,e._)("button",{onClick:a=>m.benge(t),class:"btn btn-secondary bbb",type:"button"}," 編輯 ",8,u),(0,e._)("button",{onClick:a=>m.del(t),class:"btn btn-danger bbb",type:"button"}," 刪除 ",8,r)])))),128))])]),(0,e._)("div",h,[(0,e.Wm)(b,{ppp:p.page,newpage:p.onpage,oldpage:p.unpage,onAa:m.aSSS,onAs:m.aSSS,onAc:m.aSSS},null,8,["ppp","newpage","oldpage","onAa","onAs","onAc"])])])],64)}var m=s(9242);const _=t=>((0,e.dD)("data-v-52cca621"),t=t(),(0,e.Cn)(),t),g={class:"max modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"aa"},b={class:"maxss modal-dialog"},v={class:"maxs modal-content"},w=_((()=>(0,e._)("div",{class:"modal-header"},[(0,e._)("h5",{class:"modal-title",id:"exampleModalLabel"},"新增商品項目"),(0,e._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),f={class:"modal-body"},x={class:"left"},y={class:"naone"},S={class:"na"},$=_((()=>(0,e._)("p",null,"購買人電話:",-1))),k={class:"na"},C=_((()=>(0,e._)("p",null,"Email:",-1))),z={class:"na"},L=_((()=>(0,e._)("p",null,"地址",-1))),A={class:"natwo"},D={class:"na"},T=_((()=>(0,e._)("p",null,"購買金額",-1))),U={class:"na"},E=_((()=>(0,e._)("p",null,"購買日期(數字填寫)",-1))),M={class:"na"},Y=_((()=>(0,e._)("p",null,"保固日期日(數字填寫)",-1))),I={class:"modal-footer"},V=_((()=>(0,e._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1)));function W(t,a,s,n,o,i){return(0,e.wg)(),(0,e.iD)("div",g,[(0,e._)("div",b,[(0,e._)("div",v,[w,(0,e._)("div",f,[(0,e._)("div",x,[(0,e._)("div",y,[(0,e._)("div",S,[$,(0,e.wy)((0,e._)("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>o.ts.tel=t),class:"form-control form-control-lg",type:"text"},null,512),[[m.nr,o.ts.tel]])]),(0,e._)("div",k,[C,(0,e.wy)((0,e._)("input",{"onUpdate:modelValue":a[1]||(a[1]=t=>o.ts.email=t),class:"form-control form-control-lg",type:"number"},null,512),[[m.nr,o.ts.email]])]),(0,e._)("div",z,[L,(0,e.wy)((0,e._)("input",{"onUpdate:modelValue":a[2]||(a[2]=t=>o.ts.address=t),class:"form-control form-control-lg",type:"text"},null,512),[[m.nr,o.ts.address]])])]),(0,e._)("div",A,[(0,e._)("div",D,[T,(0,e._)("p",null,(0,l.zw)(o.tt.total),1)]),(0,e._)("div",U,[E,(0,e.Uk)(" "+(0,l.zw)(o.ts.buydata),1)]),(0,e._)("div",M,[Y,(0,e.Uk)(" "+(0,l.zw)(o.ts.ndata)+" "+(0,l.zw)(),1)])])])]),(0,e._)("div",I,[V,(0,e._)("button",{onClick:a[3]||(a[3]=(...t)=>i.newshop&&i.newshop(...t)),type:"button",class:"btn btn-primary"}," 修改訂單 ")])])])],512)}var Z=s(7972),j=s.n(Z),F={data(){return{aa:{},tt:{create_at:0,id:"",is_paid:!0,message:"",num:1,paid_date:1661803447,products:{},total:"",user:{tel:0}},ts:{},loading:!1}},inject:["EmiTter"],created(){},methods:{as(){this.aa.show()},ad(){this.aa.hide()},newshop(){this.aa.hide();const t=`https://vue3-course-api.hexschool.io/api/smallgun/admin/order/${this.tt.id}`;this.$http.put(t,{data:this.tt}).then((t=>{this.tt={},this.ts={},this.$emit("getda"),t.data.success?this.EmiTter.emit("mess",{style:"rgb(6, 173, 202)",title:"更新成功",content:"已成功更新商品"}):t.data.success||this.EmiTter.emit("mess",{style:"rgb(228, 15, 210)",title:"更新失敗",content:t.data.message.join("、")})})),this.aa.hide()}},mounted(){this.aa=new(j())(this.$refs.aa)}},G=s(89);const H=(0,G.Z)(F,[["render",W],["__scopeId","data-v-52cca621"]]);var K=H,q=s(6209),B={props:["pa"],data(){return{page:"",newpage:[],products:[],newproducts:[],pages:[],bb:{},xxx:"",Load:!1,onpage:"",unpage:"",url:""}},components:{TanTuo:K,FanYa:q.Z},created(){this.url=this.$route.path;const t=document.cookie.replace(/(?:(?:^|.*;\s*)hihi\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common["Authorization"]=t;const a="https://vue3-course-api.hexschool.io/api/user/check";this.$http.post(a).then((t=>{t.data.success||this.$router.push("/DunLoo")})),this.aSSS()},methods:{aSSS(t=1){this.Load=!0;const a=`https://vue3-course-api.hexschool.io/api/smallgun/admin/orders?path=${t}`;this.axios.get(a).then((a=>{this.Load=!1,a.data.success&&(this.pages=a.data.orders,this.newpage=Math.ceil(this.pages.length/5),this.page=this.newpage,this.unpage=t,this.onpage=t,this.newproducts=this.pages.slice(5*(t-1),5*t),this.xxx=t)}))},benge(t){this.$refs.a.as(),this.$refs.a.tt=t,this.$refs.a.ts=t.user},xxgg(){this.aSSS(this.xxx)},del(t){this.$refs.a.tt=t;const a=`https://vue3-course-api.hexschool.io/api/smallgun/admin/order/${this.$refs.a.tt.id}`;this.$http.delete(a,{data:this.tt}).then((t=>{})),this.aSSS(),this.xxgg()}}};const J=(0,G.Z)(B,[["render",p],["__scopeId","data-v-512fc0da"]]);var N=J}}]);
//# sourceMappingURL=634.480bc71d.js.map